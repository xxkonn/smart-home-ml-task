2025-10-01 14:52:29,934 - INFO - Logging initialized. Log file: /mnt/d/smart-home-ml-task/models/logs/isolation_forest_training_20251001_145229.log
2025-10-01 14:52:29,934 - INFO - Updated model parameters: {'n_estimators': 500, 'contamination': 0.02, 'max_samples': 0.9, 'max_features': 0.8, 'bootstrap': True, 'warm_start': True, 'random_state': 42, 'n_jobs': -1}
2025-10-01 14:52:29,934 - INFO - ================================================================================
2025-10-01 14:52:29,935 - INFO - STARTING ISOLATION FOREST TRAINING AND VALIDATION
2025-10-01 14:52:29,935 - INFO - ================================================================================
2025-10-01 14:52:29,935 - INFO - Loading training data...
2025-10-01 14:52:30,364 - INFO - Loaded 80 training files with 301484 total samples
2025-10-01 14:52:30,366 - INFO - Loading validation data...
2025-10-01 14:52:30,417 - INFO - Loaded 10 validation files with 40320 total samples
2025-10-01 14:52:30,417 - INFO - Loading test data...
2025-10-01 14:52:30,462 - INFO - Loaded 10 test files with 40320 total samples
2025-10-01 14:52:30,463 - INFO - Starting model training...
2025-10-01 14:52:30,463 - INFO - Model parameters: {'n_estimators': 500, 'contamination': 0.02, 'max_samples': 0.9, 'max_features': 0.8, 'bootstrap': True, 'warm_start': True, 'random_state': 42, 'n_jobs': -1}
2025-10-01 14:52:30,463 - INFO - Starting feature engineering...
2025-10-01 14:52:32,286 - INFO - Feature engineering complete. Generated 128 features
2025-10-01 14:52:32,287 - INFO - Features used: ['temperature_living_room', 'window_open', 'power_consumption_fridge', 'motion_detected_hallway', 'door_state_front', 'hour', 'day_of_week', 'month', 'day_of_year', 'hour_sin', 'hour_cos', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'is_weekend', 'is_night', 'is_business_hours', 'is_peak_hours', 'is_early_morning', 'is_late_evening', 'temp_mean_30m', 'temp_std_30m', 'temp_max_30m', 'temp_min_30m', 'temp_diff_now_vs_mean_30m', 'temp_range_30m', 'temp_zscore_30m', 'temp_mean_60m', 'temp_std_60m', 'temp_max_60m', 'temp_min_60m', 'temp_diff_now_vs_mean_60m', 'temp_range_60m', 'temp_zscore_60m', 'temp_mean_120m', 'temp_std_120m', 'temp_max_120m', 'temp_min_120m', 'temp_diff_now_vs_mean_120m', 'temp_range_120m', 'temp_zscore_120m', 'temp_mean_360m', 'temp_std_360m', 'temp_max_360m', 'temp_min_360m', 'temp_diff_now_vs_mean_360m', 'temp_range_360m', 'temp_zscore_360m', 'temp_velocity_5m', 'temp_acceleration_5m', 'temp_velocity_15m', 'temp_acceleration_15m', 'temp_velocity_30m', 'temp_acceleration_30m', 'temp_extreme_high', 'temp_very_high', 'temp_high', 'temp_very_low', 'temp_stable_30m', 'temp_volatile_30m', 'temp_stable_60m', 'temp_volatile_60m', 'temp_stable_120m', 'temp_volatile_120m', 'fridge_mean_30m', 'fridge_std_30m', 'fridge_median_30m', 'fridge_mean_60m', 'fridge_std_60m', 'fridge_median_60m', 'fridge_mean_120m', 'fridge_std_120m', 'fridge_median_120m', 'fridge_mean_360m', 'fridge_std_360m', 'fridge_median_360m', 'fridge_power_ratio_6h', 'fridge_power_ratio_1h', 'fridge_cv_30m', 'fridge_cv_60m', 'fridge_cv_120m', 'fridge_diff_5m', 'fridge_pct_change_5m', 'fridge_diff_15m', 'fridge_pct_change_15m', 'fridge_diff_30m', 'fridge_pct_change_30m', 'fridge_spike_30m', 'fridge_spike_60m', 'fridge_power_very_low', 'fridge_power_low', 'fridge_power_normal', 'fridge_power_high', 'fridge_power_very_high', 'motion_streak', 'time_since_last_motion', 'motion_rate_30m', 'motion_sum_30m', 'motion_rate_60m', 'motion_sum_60m', 'motion_rate_180m', 'motion_sum_180m', 'motion_rate_360m', 'motion_sum_360m', 'night_motion', 'door_open_streak', 'time_since_door_opened', 'door_open_rate_30m', 'door_open_rate_60m', 'door_open_rate_180m', 'window_open_streak', 'time_since_window_opened', 'window_open_rate_30m', 'window_open_rate_60m', 'window_open_rate_120m', 'temp_when_window_open', 'temp_when_window_closed', 'temp_change_with_window_5m', 'temp_change_with_window_15m', 'temp_change_with_window_30m', 'motion_with_door_open', 'motion_with_door_closed', 'motion_with_window_open', 'door_and_window_open', 'door_or_window_open', 'power_temp_ratio', 'temp_power_interaction']
2025-10-01 14:53:09,795 - INFO - Model training completed with 301484 samples
2025-10-01 14:53:09,796 - INFO - No feature scaling applied - using raw features for optimal tree-based performance
2025-10-01 14:53:09,802 - INFO - Evaluating model on validation data...
2025-10-01 14:53:09,802 - INFO - Starting feature engineering...
2025-10-01 14:53:10,064 - INFO - Feature engineering complete. Generated 128 features
2025-10-01 14:53:10,065 - INFO - Features used: ['temperature_living_room', 'window_open', 'power_consumption_fridge', 'motion_detected_hallway', 'door_state_front', 'hour', 'day_of_week', 'month', 'day_of_year', 'hour_sin', 'hour_cos', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'is_weekend', 'is_night', 'is_business_hours', 'is_peak_hours', 'is_early_morning', 'is_late_evening', 'temp_mean_30m', 'temp_std_30m', 'temp_max_30m', 'temp_min_30m', 'temp_diff_now_vs_mean_30m', 'temp_range_30m', 'temp_zscore_30m', 'temp_mean_60m', 'temp_std_60m', 'temp_max_60m', 'temp_min_60m', 'temp_diff_now_vs_mean_60m', 'temp_range_60m', 'temp_zscore_60m', 'temp_mean_120m', 'temp_std_120m', 'temp_max_120m', 'temp_min_120m', 'temp_diff_now_vs_mean_120m', 'temp_range_120m', 'temp_zscore_120m', 'temp_mean_360m', 'temp_std_360m', 'temp_max_360m', 'temp_min_360m', 'temp_diff_now_vs_mean_360m', 'temp_range_360m', 'temp_zscore_360m', 'temp_velocity_5m', 'temp_acceleration_5m', 'temp_velocity_15m', 'temp_acceleration_15m', 'temp_velocity_30m', 'temp_acceleration_30m', 'temp_extreme_high', 'temp_very_high', 'temp_high', 'temp_very_low', 'temp_stable_30m', 'temp_volatile_30m', 'temp_stable_60m', 'temp_volatile_60m', 'temp_stable_120m', 'temp_volatile_120m', 'fridge_mean_30m', 'fridge_std_30m', 'fridge_median_30m', 'fridge_mean_60m', 'fridge_std_60m', 'fridge_median_60m', 'fridge_mean_120m', 'fridge_std_120m', 'fridge_median_120m', 'fridge_mean_360m', 'fridge_std_360m', 'fridge_median_360m', 'fridge_power_ratio_6h', 'fridge_power_ratio_1h', 'fridge_cv_30m', 'fridge_cv_60m', 'fridge_cv_120m', 'fridge_diff_5m', 'fridge_pct_change_5m', 'fridge_diff_15m', 'fridge_pct_change_15m', 'fridge_diff_30m', 'fridge_pct_change_30m', 'fridge_spike_30m', 'fridge_spike_60m', 'fridge_power_very_low', 'fridge_power_low', 'fridge_power_normal', 'fridge_power_high', 'fridge_power_very_high', 'motion_streak', 'time_since_last_motion', 'motion_rate_30m', 'motion_sum_30m', 'motion_rate_60m', 'motion_sum_60m', 'motion_rate_180m', 'motion_sum_180m', 'motion_rate_360m', 'motion_sum_360m', 'night_motion', 'door_open_streak', 'time_since_door_opened', 'door_open_rate_30m', 'door_open_rate_60m', 'door_open_rate_180m', 'window_open_streak', 'time_since_window_opened', 'window_open_rate_30m', 'window_open_rate_60m', 'window_open_rate_120m', 'temp_when_window_open', 'temp_when_window_closed', 'temp_change_with_window_5m', 'temp_change_with_window_15m', 'temp_change_with_window_30m', 'motion_with_door_open', 'motion_with_door_closed', 'motion_with_window_open', 'door_and_window_open', 'door_or_window_open', 'power_temp_ratio', 'temp_power_interaction']
2025-10-01 14:53:12,343 - INFO - validation Evaluation Results:
2025-10-01 14:53:12,343 - INFO -   Overall Precision: 0.6522
2025-10-01 14:53:12,343 - INFO -   Overall Recall: 0.9733
2025-10-01 14:53:12,344 - INFO -   Overall F1-Score: 0.7811
2025-10-01 14:53:12,344 - INFO -   Total Samples: 40320
2025-10-01 14:53:12,344 - INFO -   True Anomalies: 2584
2025-10-01 14:53:12,344 - INFO -   TYPE_1 - Recall: 1.0000, Samples: 561
2025-10-01 14:53:12,344 - INFO -   TYPE_2 - Recall: 1.0000, Samples: 738
2025-10-01 14:53:12,344 - INFO -   TYPE_3 - Recall: 0.9659, Samples: 381
2025-10-01 14:53:12,344 - INFO -   TYPE_4 - Recall: 0.9732, Samples: 299
2025-10-01 14:53:12,345 - INFO -   TYPE_5 - Recall: 0.8723, Samples: 376
2025-10-01 14:53:12,345 - INFO -   TYPE_6 - Recall: 1.0000, Samples: 229
2025-10-01 14:53:12,345 - INFO - Evaluating model on test data...
2025-10-01 14:53:12,345 - INFO - Starting feature engineering...
2025-10-01 14:53:12,585 - INFO - Feature engineering complete. Generated 128 features
2025-10-01 14:53:12,586 - INFO - Features used: ['temperature_living_room', 'window_open', 'power_consumption_fridge', 'motion_detected_hallway', 'door_state_front', 'hour', 'day_of_week', 'month', 'day_of_year', 'hour_sin', 'hour_cos', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'is_weekend', 'is_night', 'is_business_hours', 'is_peak_hours', 'is_early_morning', 'is_late_evening', 'temp_mean_30m', 'temp_std_30m', 'temp_max_30m', 'temp_min_30m', 'temp_diff_now_vs_mean_30m', 'temp_range_30m', 'temp_zscore_30m', 'temp_mean_60m', 'temp_std_60m', 'temp_max_60m', 'temp_min_60m', 'temp_diff_now_vs_mean_60m', 'temp_range_60m', 'temp_zscore_60m', 'temp_mean_120m', 'temp_std_120m', 'temp_max_120m', 'temp_min_120m', 'temp_diff_now_vs_mean_120m', 'temp_range_120m', 'temp_zscore_120m', 'temp_mean_360m', 'temp_std_360m', 'temp_max_360m', 'temp_min_360m', 'temp_diff_now_vs_mean_360m', 'temp_range_360m', 'temp_zscore_360m', 'temp_velocity_5m', 'temp_acceleration_5m', 'temp_velocity_15m', 'temp_acceleration_15m', 'temp_velocity_30m', 'temp_acceleration_30m', 'temp_extreme_high', 'temp_very_high', 'temp_high', 'temp_very_low', 'temp_stable_30m', 'temp_volatile_30m', 'temp_stable_60m', 'temp_volatile_60m', 'temp_stable_120m', 'temp_volatile_120m', 'fridge_mean_30m', 'fridge_std_30m', 'fridge_median_30m', 'fridge_mean_60m', 'fridge_std_60m', 'fridge_median_60m', 'fridge_mean_120m', 'fridge_std_120m', 'fridge_median_120m', 'fridge_mean_360m', 'fridge_std_360m', 'fridge_median_360m', 'fridge_power_ratio_6h', 'fridge_power_ratio_1h', 'fridge_cv_30m', 'fridge_cv_60m', 'fridge_cv_120m', 'fridge_diff_5m', 'fridge_pct_change_5m', 'fridge_diff_15m', 'fridge_pct_change_15m', 'fridge_diff_30m', 'fridge_pct_change_30m', 'fridge_spike_30m', 'fridge_spike_60m', 'fridge_power_very_low', 'fridge_power_low', 'fridge_power_normal', 'fridge_power_high', 'fridge_power_very_high', 'motion_streak', 'time_since_last_motion', 'motion_rate_30m', 'motion_sum_30m', 'motion_rate_60m', 'motion_sum_60m', 'motion_rate_180m', 'motion_sum_180m', 'motion_rate_360m', 'motion_sum_360m', 'night_motion', 'door_open_streak', 'time_since_door_opened', 'door_open_rate_30m', 'door_open_rate_60m', 'door_open_rate_180m', 'window_open_streak', 'time_since_window_opened', 'window_open_rate_30m', 'window_open_rate_60m', 'window_open_rate_120m', 'temp_when_window_open', 'temp_when_window_closed', 'temp_change_with_window_5m', 'temp_change_with_window_15m', 'temp_change_with_window_30m', 'motion_with_door_open', 'motion_with_door_closed', 'motion_with_window_open', 'door_and_window_open', 'door_or_window_open', 'power_temp_ratio', 'temp_power_interaction']
2025-10-01 14:53:14,818 - INFO - test Evaluation Results:
2025-10-01 14:53:14,819 - INFO -   Overall Precision: 0.6452
2025-10-01 14:53:14,819 - INFO -   Overall Recall: 0.9850
2025-10-01 14:53:14,819 - INFO -   Overall F1-Score: 0.7797
2025-10-01 14:53:14,819 - INFO -   Total Samples: 40320
2025-10-01 14:53:14,820 - INFO -   True Anomalies: 2732
2025-10-01 14:53:14,820 - INFO -   TYPE_1 - Recall: 0.9981, Samples: 515
2025-10-01 14:53:14,820 - INFO -   TYPE_2 - Recall: 1.0000, Samples: 800
2025-10-01 14:53:14,820 - INFO -   TYPE_3 - Recall: 0.9685, Samples: 445
2025-10-01 14:53:14,820 - INFO -   TYPE_4 - Recall: 0.9565, Samples: 299
2025-10-01 14:53:14,821 - INFO -   TYPE_5 - Recall: 0.9701, Samples: 435
2025-10-01 14:53:14,821 - INFO -   TYPE_6 - Recall: 1.0000, Samples: 238
2025-10-01 14:53:17,688 - INFO - Model saved to: /mnt/d/smart-home-ml-task/models/estimators_500.joblib
2025-10-01 14:53:17,688 - INFO - Results saved to: /mnt/d/smart-home-ml-task/models/results/estimators_500_results.json
2025-10-01 14:53:17,688 - INFO - ================================================================================
2025-10-01 14:53:17,689 - INFO - TRAINING AND VALIDATION COMPLETED
2025-10-01 14:53:17,689 - INFO - ================================================================================
